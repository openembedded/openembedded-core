From 10587067fcf5b05e7fa5a84c38238dbffd079c4f Mon Sep 17 00:00:00 2001
From: Michael Opdenacker <michael.opdenacker@rootcommit.com>
Date: Mon, 8 Dec 2025 11:12:34 +0000
Subject: [PATCH] alsactl: fix build when in subdirectory

From: Rudi Heitbaum <rudi@heitbaum.com>

create the conf directory as part of the edit recipe

Closes: https://github.com/alsa-project/alsa-utils/pull/311
Signed-off-by: Rudi Heitbaum <rudi@heitbaum.com>
Signed-off-by: Jaroslav Kysela <perex@perex.cz>
Upstream-Status: Backport [10587067fcf5b05e7fa5a84c38238dbffd079c4f]
---
 alsactl/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

diff --git a/alsactl/Makefile.am b/alsactl/Makefile.am
index 48b7c7a..c8729e0 100644
--- a/alsactl/Makefile.am
+++ b/alsactl/Makefile.am
@@ -47,6 +47,7 @@ endif
 edit = \
 	extratest=$$(echo ' $(ALSACTL_UDEV_EXTRATEST)' | sed -e 's/__/ /g' -e 's/^ $$//'); \
 	args=$$(echo ' $(ALSACTL_UDEV_ARGS)' | sed -e 's/__/ /g' -e 's/^ $$//'); \
+	mkdir -p conf; \
 	$(SED) -r -e 's,@sbindir\@,$(sbindir),g' \
 		  -e 's,@mydatadir\@,$(mydatadir),g' \
 		  -e 's,@daemonswitch\@,$(ALSACTL_DAEMONSWITCH),g' \
