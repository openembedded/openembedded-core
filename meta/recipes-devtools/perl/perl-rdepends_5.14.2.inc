# To create/update the perl-rdepends_${PV}.inc use this piece of ugly script (modified for your arch/paths etc):

#[nitin@buildbox packages-split]$ pwd
#/home/nitin/build/build3/tmp/work/i586-poky-linux/perl-5.8.8-r21/packages-split
#/home/nitin/poky.git/build/tmp/work/x86_64-poky-linux/perl-5.12.2-r0/packages-split

#egrep -r "use|require" perl-module-* | grep ";" | egrep "\.pm:require | \.pm:use" | sed "s-/.*\.pm: *- += -g" | sed "s/[\"\']//g" | sed "s/;.*/\"/g" | sed "s/require */\"perl-module-/g" | sed "s/CPANPLUS::.*/cpanplus/g" | sed "s/CPAN::.*/cpan/g" | tr [:upper:] [:lower:] | sed "s/::/-/g" | grep -v perl-module-5 | sed "s/ [^+\"].*//g" | grep -v "\\$" | sed "s/_/-/g" | sed "s/\.pl\"$/\"/" | grep -v "\-vms\-" | sort -u > /tmp/1
#find . -type f | sed "s-\./--" | sed "s-/.*--" | sort -u > /tmp/2
#cat /tmp/1 | cut -f3 -d" " | sed "s/[\"\']//g" | sort -u > /tmp/3
## these dependencies do not exist
#diff -u /tmp/2 /tmp/3 | grep ^+perl-module


# Some additional dependencies that the above doesn't manage to figure out
# Please take care that exporter depends exporter-heavy, not reverse
RDEPENDS_${PN}-module-exporter += "${PN}-module-exporter-heavy"
RDEPENDS_${PN}-module-file-glob += "${PN}-module-feature"
RDEPENDS_${PN}-module-file-path += "${PN}-module-cwd"
RDEPENDS_${PN}-module-file-spec += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-stat += "${PN}-module-fcntl"
RDEPENDS_${PN}-module-file-stat += "${PN}-module-overload"
RDEPENDS_${PN}-module-file-stat += "${PN}-module-class-struct"
RDEPENDS_${PN}-module-io-file += "${PN}-module-file-spec"
RDEPENDS_${PN}-module-io-file += "${PN}-module-io-seekable"
RDEPENDS_${PN}-module-io-file += "${PN}-module-selectsaver"
RDEPENDS_${PN}-module-io-file += "${PN}-module-symbol"
RDEPENDS_${PN}-module-io-handle += "${PN}-module-io"
RDEPENDS_${PN}-module-io-seekable += "${PN}-module-io-handle"
RDEPENDS_${PN}-module-list-util += "${PN}-module-list-util-pp"
RDEPENDS_${PN}-module-math-bigint += "${PN}-module-math-bigint-calc "
RDEPENDS_${PN}-module-math-bigint-calc += "${PN}-module-integer "
RDEPENDS_${PN}-module-posix += "${PN}-module-autoloader"
RDEPENDS_${PN}-module-posix += "${PN}-module-tie-hash"
RDEPENDS_${PN}-module-scalar-util += "${PN}-module-scalar-util-pp"
RDEPENDS_${PN}-module-scalar-util-pp += "${PN}-module-b"
RDEPENDS_${PN}-module-thread-queue += "${PN}-module-threads-shared"
RDEPENDS_${PN}-module-thread-queue += "${PN}-module-attributes"
RDEPENDS_${PN}-module-threads-shared += "${PN}-module-scalar-util"
RDEPENDS_${PN}-module-xsloader += "${PN}-module-dynaloader"

# Depends list
# copy contents of /tmp/1 in this file
RDEPENDS_${PN}-module-archive-tar-file += "${PN}-module-archive-tar"
RDEPENDS_${PN}-module-archive-tar += "${PN}-module-exporter"
RDEPENDS_${PN}-module-attributes += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-b-debug += "${PN}-module-b"
RDEPENDS_${PN}-module-bignum += "${PN}-module-bigint"
RDEPENDS_${PN}-module-bigrat += "${PN}-module-bigint"
RDEPENDS_${PN}-module-bigrat += "${PN}-module-exporter"
RDEPENDS_${PN}-module-b += "${PN}-module-exporter"
#RDEPENDS_${PN}-module-build += "${PN}-module-module-metadata"
RDEPENDS_${PN}-module-carp += "${PN}-module-exporter"
RDEPENDS_${PN}-module-cgi-util += "${PN}-module-exporter"
RDEPENDS_${PN}-module-class-struct += "${PN}-module-exporter"
RDEPENDS_${PN}-module-compress-raw-bzip2 += "${PN}-module-exporter"
RDEPENDS_${PN}-module-compress-raw-zlib += "${PN}-module-exporter"
RDEPENDS_${PN}-module-compress-zlib += "${PN}-module-exporter"
RDEPENDS_${PN}-module-config-extensions += "${PN}-module-exporter"
#RDEPENDS_${PN}-module-cpan += "${PN}-module-mac-buildtools"
RDEPENDS_${PN}-module-cpanplus += "${PN}-module-base"
RDEPENDS_${PN}-module-cpanplus += "${PN}-module-cpanplus"
RDEPENDS_${PN}-module-cpanplus += "${PN}-module-exporter"
RDEPENDS_${PN}-module-cpanplus += "${PN}-module-tie-hash"
RDEPENDS_${PN}-module-data-dumper += "${PN}-module-exporter"
RDEPENDS_${PN}-module-data-dumper += "${PN}-module-overload"
RDEPENDS_${PN}-module-devel-peek += "${PN}-module-exporter"
RDEPENDS_${PN}-module-devel-peek += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-devel-selfstubber += "${PN}-module-selfloader"
RDEPENDS_${PN}-module-digest-md5 += "${PN}-module-exporter"
RDEPENDS_${PN}-module-digest-sha += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-digest-sha += "${PN}-module-exporter"
RDEPENDS_${PN}-module-encode-cjkconstants += "${PN}-module-exporter"
RDEPENDS_${PN}-module-encode-encoder += "${PN}-module-exporter"
RDEPENDS_${PN}-module-encode-encoding += "${PN}-module-encode"
RDEPENDS_${PN}-module-encode += "${PN}-module-encode-config"
RDEPENDS_${PN}-module-encode += "${PN}-module-exporter"
RDEPENDS_${PN}-module-encode-unicode += "${PN}-module-encode"
RDEPENDS_${PN}-module-english += "${PN}-module-exporter"
RDEPENDS_${PN}-module-errno += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-command-mm += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-command += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-constant-proxysubs += "${PN}-module-extutils-constant-xs"
RDEPENDS_${PN}-module-extutils-constant-xs += "${PN}-module-extutils-constant-base"
RDEPENDS_${PN}-module-extutils-embed += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-embed += "${PN}-module-filehandle"
RDEPENDS_${PN}-module-extutils-liblist += "${PN}-module-extutils-liblist-kid"
RDEPENDS_${PN}-module-extutils-makemaker += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-makemaker += "${PN}-module-extutils-mm"
RDEPENDS_${PN}-module-extutils-makemaker += "${PN}-module-extutils-my"
RDEPENDS_${PN}-module-extutils-manifest += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-mini${PN} += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-mkbootstrap += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-mm-aix += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-beos += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-beos += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-cygwin += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-cygwin += "${PN}-module-extutils-mm-win32"
RDEPENDS_${PN}-module-extutils-mm-dos += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-dos += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-nw5 += "${PN}-module-extutils-mm-win32"
RDEPENDS_${PN}-module-extutils-mm-os2 += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-os2 += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm += "${PN}-module-extutils-liblist"
RDEPENDS_${PN}-module-extutils-mm += "${PN}-module-extutils-makemaker"
RDEPENDS_${PN}-module-extutils-mm-qnx += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-unix += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-uwin += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-vms += "${PN}-module-exporter"
RDEPENDS_${PN}-module-extutils-mm-vms += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-vms += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-vos += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-win32 += "${PN}-module-extutils-mm-any"
RDEPENDS_${PN}-module-extutils-mm-win32 += "${PN}-module-extutils-mm-unix"
RDEPENDS_${PN}-module-extutils-mm-win95 += "${PN}-module-extutils-mm-win32"
RDEPENDS_${PN}-module-extutils-my += "${PN}-module-extutils-mm"
RDEPENDS_${PN}-module-extutils-parsexs += "${PN}-module-exporter"
RDEPENDS_${PN}-module-fcntl += "${PN}-module-exporter"
RDEPENDS_${PN}-module-fcntl += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-file-basename += "${PN}-module-exporter"
RDEPENDS_${PN}-module-file-compare += "${PN}-module-exporter"
RDEPENDS_${PN}-module-file-copy += "${PN}-module-exporter"
RDEPENDS_${PN}-module-file-find += "${PN}-module-cwd"
RDEPENDS_${PN}-module-file-find += "${PN}-module-exporter"
RDEPENDS_${PN}-module-file-find += "${PN}-module-file-basename"
RDEPENDS_${PN}-module-file-find += "${PN}-module-file-spec"
RDEPENDS_${PN}-module-file-glob += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-filehandle += "${PN}-module-io-file"
RDEPENDS_${PN}-module-file-spec-cygwin += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-spec-epoc += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-spec-functions += "${PN}-module-exporter"
RDEPENDS_${PN}-module-file-spec-mac += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-spec-os2 += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-spec-vms += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-spec-win32 += "${PN}-module-file-spec-unix"
RDEPENDS_${PN}-module-file-temp += "${PN}-module-symbol"
RDEPENDS_${PN}-module-filter-util-call += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-filter-util-call += "${PN}-module-exporter"
RDEPENDS_${PN}-module-findbin += "${PN}-module-exporter"
RDEPENDS_${PN}-module-gdbm-file += "${PN}-module-carp"
RDEPENDS_${PN}-module-gdbm-file += "${PN}-module-exporter"
RDEPENDS_${PN}-module-gdbm-file += "${PN}-module-tie-hash"
RDEPENDS_${PN}-module-gdbm-file += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-getopt-std += "${PN}-module-exporter"
RDEPENDS_${PN}-module-hash-util-fieldhash += "${PN}-module-exporter"
RDEPENDS_${PN}-module-hash-util += "${PN}-module-exporter"
RDEPENDS_${PN}-module-hash-util += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-i18n-langinfo += "${PN}-module-exporter"
RDEPENDS_${PN}-module-i18n-langinfo += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-i18n-langtags += "${PN}-module-exporter"
RDEPENDS_${PN}-module-inc-latest += "${PN}-module-inc-latest-private"
RDEPENDS_${PN}-module-io-compress-base-common += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-compress-bzip2 += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-compress-deflate += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-compress-gzip-constants += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-compress-gzip += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-compress-rawdeflate += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-compress-zip-constants += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-compress-zip += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-compress-zlib-constants += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-file += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-handle += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-seekable += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-select += "${PN}-module-exporter"
RDEPENDS_${PN}-module-io-socket += "${PN}-module-io-socket-inet"
RDEPENDS_${PN}-module-io-socket += "${PN}-module-io-socket-unix"
RDEPENDS_${PN}-module-io-uncompress-anyinflate += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-anyuncompress += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-bunzip2 += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-gunzip += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-inflate += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-rawinflate += "${PN}-module-exporter "
RDEPENDS_${PN}-module-io-uncompress-unzip += "${PN}-module-exporter "
RDEPENDS_${PN}-module-ipc-cmd += "${PN}-module-carp"
RDEPENDS_${PN}-module-ipc-open2 += "${PN}-module-exporter"
RDEPENDS_${PN}-module-ipc-open2 += "${PN}-module-ipc-open3"
RDEPENDS_${PN}-module-ipc-open3 += "${PN}-module-exporter"
RDEPENDS_${PN}-module-ipc-sysv += "${PN}-module-exporter"
RDEPENDS_${PN}-module-list-util += "${PN}-module-exporter"
RDEPENDS_${PN}-module-list-util-pp += "${PN}-module-exporter"
RDEPENDS_${PN}-module-locale-constants += "${PN}-module-exporter"
RDEPENDS_${PN}-module-locale-country += "${PN}-module-exporter"
RDEPENDS_${PN}-module-locale-currency += "${PN}-module-exporter"
RDEPENDS_${PN}-module-locale-language += "${PN}-module-exporter"
RDEPENDS_${PN}-module-locale-script += "${PN}-module-exporter"
RDEPENDS_${PN}-module-math-bigfloat += "${PN}-module-exporter"
RDEPENDS_${PN}-module-math-bigint-fastcalc += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-math-complex += "${PN}-module-exporter"
RDEPENDS_${PN}-module-math-trig += "${PN}-module-exporter"
RDEPENDS_${PN}-module-mime-base64 += "${PN}-module-exporter"
RDEPENDS_${PN}-module-mime-base64 += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-mime-quotedprint += "${PN}-module-exporter"
RDEPENDS_${PN}-module-mro += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-net-cmd += "${PN}-module-exporter"
RDEPENDS_${PN}-module-net-config += "${PN}-module-exporter"
RDEPENDS_${PN}-module-net-domain += "${PN}-module-exporter"
RDEPENDS_${PN}-module-net-ftp-a += "${PN}-module-net-ftp-dataconn"
RDEPENDS_${PN}-module-net-ftp-e += "${PN}-module-net-ftp-i"
RDEPENDS_${PN}-module-net-ftp-i += "${PN}-module-net-ftp-dataconn"
RDEPENDS_${PN}-module-net-ftp-l += "${PN}-module-net-ftp-i"
RDEPENDS_${PN}-module-net-ping += "${PN}-module-exporter"
RDEPENDS_${PN}-module-net-time += "${PN}-module-exporter"
RDEPENDS_${PN}-module-object-accessor += "${PN}-module-overload"
RDEPENDS_${PN}-module-${PN}io-encoding += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-${PN}io-scalar += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-${PN}io-via += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-pod-escapes += "${PN}-module-exporter"
RDEPENDS_${PN}-module-pod-functions += "${PN}-module-exporter"
RDEPENDS_${PN}-module-pod-latex += "${PN}-module-pod-parseutils"
RDEPENDS_${PN}-module-pod-simple-transcodesmart += "${PN}-module-encode"
RDEPENDS_${PN}-module-pod-usage += "${PN}-module-pod-select"
RDEPENDS_${PN}-module-posix += "${PN}-module-exporter"
RDEPENDS_${PN}-module-posix += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-safe += "${PN}-module-utf8"
RDEPENDS_${PN}-module-scalar-util += "${PN}-module-exporter"
RDEPENDS_${PN}-module-scalar-util += "${PN}-module-list-util"
RDEPENDS_${PN}-module-scalar-util-pp += "${PN}-module-exporter"
RDEPENDS_${PN}-module-sdbm-file += "${PN}-module-tie-hash"
RDEPENDS_${PN}-module-sdbm-file += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-search-dict += "${PN}-module-exporter"
RDEPENDS_${PN}-module-socket += "${PN}-module-exporter"
RDEPENDS_${PN}-module-socket += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-storable += "${PN}-module-exporter"
RDEPENDS_${PN}-module-storable += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-symbol += "${PN}-module-exporter"
RDEPENDS_${PN}-module-sys-hostname += "${PN}-module-exporter"
RDEPENDS_${PN}-module-term-complete += "${PN}-module-exporter"
RDEPENDS_${PN}-module-test-builder-module += "${PN}-module-exporter"
RDEPENDS_${PN}-module-test-builder-tester-color += "${PN}-module-test-builder-tester"
RDEPENDS_${PN}-module-test += "${PN}-module-exporter"
RDEPENDS_${PN}-module-text-abbrev += "${PN}-module-exporter"
RDEPENDS_${PN}-module-text-tabs += "${PN}-module-exporter"
RDEPENDS_${PN}-module-text-wrap += "${PN}-module-exporter"
RDEPENDS_${PN}-module-thread += "${PN}-module-exporter"
RDEPENDS_${PN}-module-threads += "${PN}-module-config"
RDEPENDS_${PN}-module-threads += "${PN}-module-xsloader"
RDEPENDS_${PN}-module-time-hires += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-time-hires += "${PN}-module-exporter"
RDEPENDS_${PN}-module-time-local += "${PN}-module-exporter"
RDEPENDS_${PN}-module-time-piece += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-time-piece += "${PN}-module-exporter"
RDEPENDS_${PN}-module-unicode-collate += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-unicode-normalize += "${PN}-module-dynaloader"
RDEPENDS_${PN}-module-unicode-normalize += "${PN}-module-exporter"
RDEPENDS_${PN}-module-unicode-ucd += "${PN}-module-exporter"
RDEPENDS_${PN}-module-universal += "${PN}-module-exporter"
RDEPENDS_${PN}-module-warnings-register += "${PN}-module-warnings"
